<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Adding a BigQuery Connection</title><link rel="Prev" href="zeenea-connector-generic-lineage.html" title="Previous" /><link rel="Next" href="zeenea-connector-google-cloud-storage.html" title="Next" /><link rel="StyleSheet" href="../css/font-awesome/css/all.min.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/zeenea-connector-google-bigquery.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/webworks.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/print.css" type="text/css" media="print" /><noscript><div id="noscript_padding"></div></noscript></head><body id="pDPsU_002fM7ZG6NGkjMdTaIssQ" class="ww_skin_page_body" style="visibility: hidden;"><input type="hidden" id="page_onload_url" value="../index.html#page/Technical%20Documentation/zeenea-connector-google-bigquery.html"></input><span id="dropdown_ids" style="display:none;"></span><div id="ww_content_container"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><a class="WebWorks_Breadcrumb_Link" href="scanners.html">Technical Documentation</a> : <a class="WebWorks_Breadcrumb_Link" href="connectors.html#p100003">Connectors</a> : <span class="WebWorks_Breadcrumb_Text">Adding a BigQuery Connection</span></div><div class="ww_skin_page_toolbar"><div id="dropdown_button_container" class="dropdown_container dropdown_button_container_disabled"><a id="show_hide_all" class="ww_skin ww_behavior_dropdown_toggle ww_skin_dropdown_toggle" title="Page DropDown Toggle" href="#"><i class="far"></i></a><span class="ww_skin_page_toolbar_divider">&nbsp;</span></div><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#"><i class="fa"></i></a></div><!-- was this helpful button --><!--                         --><div class="ww_skin_was_this_helpful_container"><div class="ww_skin_was_this_helpful_message">Was this helpful?</div><div class="ww_skin_was_this_helpful_buttons_container"><div id="helpful_thumbs_up" class="ww_skin_was_this_helpful_button" title="Helpful"><i class="far"></i></div><div id="helpful_thumbs_down" class="ww_skin_was_this_helpful_button" title="Unhelpful"><i class="far"></i></div></div></div></header><div id="page_content_container"><div id="page_content"><div id="wwp100003" class="Heading_1">Adding a BigQuery Connection</div><div id="wwp100009" class="Heading_2">Prerequisites</div><ul id="wwl100036" class="UList"><li id="wwli100024" class="UList_Item" value="1"><div id="wwp100018" class="UList_Paragraph">In order to establish a connection to Google BigQuery, a BigQuery user with sufficient <span class="Link"><a href="../Technical%20Documentation/zeenea-connector-google-bigquery.html#wwp100693" title="Adding a BigQuery Connection">permissions</a></span> is required.</div></li><li id="wwli100033" class="UList_Item" value="2"><div id="wwp100027" class="UList_Paragraph">Zeenea traffic flows towards Google BigQuery must be open.</div></li></ul><div id="wwp100039" class="Paragraph">Zeenea uses Google HTTP API to collect metadata. </div><div class="ww_skin_page_overflow"><table id="wwt100105" class="Table" style="border-collapse: collapse; margin-bottom: 18px" border="1px solid #888888" summary=""><tr><th style="background-color: buttonface; text-align: left; vertical-align: middle"><div id="wwp100045" class="Table_Cell_Head">Target</div></th><th style="background-color: buttonface; text-align: left; vertical-align: middle"><div id="wwp100054" class="Table_Cell_Head">Protocol</div></th><th style="background-color: buttonface; text-align: left; vertical-align: middle"><div id="wwp100063" class="Table_Cell_Head">Usual Ports</div></th></tr><tr><td style="background-color: Transparent; text-align: left"><div id="wwp100075" class="Table_Cell_Body">BigQuery</div></td><td style="background-color: Transparent; text-align: left"><div id="wwp100084" class="Table_Cell_Body">HTTPS</div></td><td style="background-color: Transparent; text-align: left"><div id="wwp100093" class="Table_Cell_Body">443</div></td></tr></table></div><div id="wwb100120" class="Blockquote"><div id="wwp100114" class="Blockquote_Paragraph"><span class="Bold">Note:</span> The configuration template can be downloaded here: <span class="Link"><a href="https://github.com/zeenea/connector-conf-templates/blob/main/templates/BigQuery.conf" target="external_window">BigQuery.conf</a></span>.</div></div><div id="wwp100123" class="Heading_2">Supported Versions</div><div id="wwp100129" class="Paragraph">The BigQuery connector has been successfully tested with the Web version. </div><div id="wwp100135" class="Paragraph">There are two possible forms for this connector: </div><ul id="wwl100165" class="UList"><li id="wwli100150" class="UList_Item" value="1"><div id="wwp100144" class="UList_Paragraph"><span class="Bold">BigQuery</span>: This connector will catalog all BigQuery tables for one project</div></li><li id="wwli100162" class="UList_Item" value="2"><div id="wwp100156" class="UList_Paragraph"><span class="Bold">BigQueryOrganization</span>: This connector catalogs all tables, for all projects inside an organization. The BigQueryOrganization connector allows for larger access to an organization's data, but it also requires a user with more permissions.</div></li></ul><div id="wwp100168" class="Heading_2">Installing the Plugin</div><div id="wwp100174" class="Paragraph">From version 54 of the scanner, the SQL Server connector is presented as a plugin.</div><div id="wwp100183" class="Paragraph">It can be downloaded here and requires a scanner version 64 or later: <span class="Link"><a href="../Technical%20Documentation/zeenea-connectors-list.html#" title="Zeenea Connector Downloads">Zeenea Connector Downloads</a></span>.</div><div id="wwp100192" class="Paragraph">For more information on how to install a plugin, please refer to the following article: <span class="Link"><a href="../Technical%20Documentation/zeenea-connectors-install-as-plugin.html#" title="Installing and Configuring Connectors as a Plugin">Installing and Configuring Connectors as a Plugin</a></span>.</div><div id="wwp100198" class="Heading_2">Declaring the Connection</div><div id="wwp100207" class="Paragraph">Creating and configuring connectors is done through a dedicated configuration file located in the <span class="Code">/connections</span> folder of the relevant scanner.</div><div id="wwp100216" class="Paragraph">Read more: <span class="Link"><a href="../Features%20_%20Applications/zeenea-managing-connections.html#" title="Managing Connections">Managing Connections</a></span></div><div id="wwp100222" class="Paragraph">In order to establish a connection with BigQuery, specifying the following parameters in the dedicated file is required:</div><div class="ww_skin_page_overflow"><table id="wwt100669" class="Table" style="border-collapse: collapse; margin-bottom: 18px" border="1px solid #888888" summary=""><tr><th style="background-color: buttonface; text-align: left; vertical-align: middle"><div id="wwp100228" class="Table_Cell_Head">Parameter</div></th><th style="background-color: buttonface; text-align: left; vertical-align: middle"><div id="wwp100237" class="Table_Cell_Head">Expected Value</div></th></tr><tr><td style="background-color: Transparent; text-align: left"><div id="wwp100252" class="Table_Cell_Body"><span class="Code">name</span></div></td><td style="background-color: Transparent; text-align: left"><div id="wwp100261" class="Table_Cell_Body">The name that will be displayed to catalog users for this connection</div></td></tr><tr><td style="background-color: buttonface; text-align: left"><div id="wwp100276" class="Table_Cell_Body"><span class="Code">code</span></div></td><td style="background-color: buttonface; text-align: left"><div id="wwp100285" class="Table_Cell_Body">Unique identifier of the connection on the Zeenea platform. Once registered on the platform, this code must not be modified or the connection will be considered as new and the old one removed from the scanner.</div></td></tr><tr><td style="background-color: Transparent; text-align: left"><div id="wwp100300" class="Table_Cell_Body"><span class="Code">connector_id</span></div></td><td style="background-color: Transparent; text-align: left"><div id="wwp100315" class="Table_Cell_Body">The type of connector to be used for the connection. Here, the value must be <span class="Code">BigQuery</span> for project level or <span class="Code">BigQueryOrganization</span> for organization level. This value must not be modified.</div></td></tr><tr><td style="background-color: buttonface; text-align: left"><div id="wwp100330" class="Table_Cell_Body"><span class="Code">connection.json_key</span></div></td><td style="background-color: buttonface; text-align: left"><div id="wwp100339" class="Table_Cell_Body">Path to the access JSON Key.</div></td></tr><tr><td style="background-color: Transparent; text-align: left"><div id="wwp100354" class="Table_Cell_Body"><span class="Code">connection.billing_project_id</span></div></td><td style="background-color: Transparent; text-align: left"><div id="wwp100381" class="Table_Cell_Body">(Optional) Identifier of the project used for the connection. The Google invoice is for this project. By default, one connection is established for each project that is scanned.<span class="HTML"><br /></span><span class="HTML"><br /></span>NOTE: The retrieval of PK, FK requires this parameter.</div></td></tr><tr><td style="background-color: buttonface; text-align: left"><div id="wwp100396" class="Table_Cell_Body"><span class="Code">filter</span></div></td><td style="background-color: buttonface; text-align: left"><div id="wwp100408" class="Table_Cell_Body">To filter datasets during the inventory. See <span class="Link"><a href="../Technical%20Documentation/zeenea-connector-google-bigquery.html#wwp100840" title="Adding a BigQuery Connection">Rich Filters</a></span>.</div></td></tr><tr><td style="background-color: Transparent; text-align: left"><div id="wwp100423" class="Table_Cell_Body"><span class="Code">inventory.partition.pattern</span></div></td><td style="background-color: Transparent; text-align: left"><div id="wwp100432" class="Table_Cell_Body">Parameter for confusing datasets represented in several tables. Must be completed with the variable part of the tables name. See examples in the template file.</div></td></tr><tr><td style="background-color: buttonface; text-align: left"><div id="wwp100447" class="Table_Cell_Body"><span class="Code">proxy.scheme</span></div></td><td style="background-color: buttonface; text-align: left"><div id="wwp100462" class="Table_Cell_Body">Depending on the proxy, <span class="Code">http</span> or <span class="Code">https</span></div></td></tr><tr><td style="background-color: Transparent; text-align: left"><div id="wwp100477" class="Table_Cell_Body"><span class="Code">proxy.hostname</span></div></td><td style="background-color: Transparent; text-align: left"><div id="wwp100486" class="Table_Cell_Body">Proxy address</div></td></tr><tr><td style="background-color: buttonface; text-align: left"><div id="wwp100501" class="Table_Cell_Body"><span class="Code">proxy.port</span></div></td><td style="background-color: buttonface; text-align: left"><div id="wwp100510" class="Table_Cell_Body">Proxy port</div></td></tr><tr><td style="background-color: Transparent; text-align: left"><div id="wwp100525" class="Table_Cell_Body"><span class="Code">proxy.username</span></div></td><td style="background-color: Transparent; text-align: left"><div id="wwp100534" class="Table_Cell_Body">Proxy username</div></td></tr><tr><td style="background-color: buttonface; text-align: left"><div id="wwp100549" class="Table_Cell_Body"><span class="Code">proxy.password</span></div></td><td style="background-color: buttonface; text-align: left"><div id="wwp100558" class="Table_Cell_Body">Proxy account password</div></td></tr><tr><td style="background-color: Transparent; text-align: left"><div id="wwp100573" class="Table_Cell_Body"><span class="Code">fingerprint.sampling_amount</span></div></td><td style="background-color: Transparent; text-align: left"><div id="wwp100582" class="Table_Cell_Body">Max number of lines sampled from fingerprinting</div></td></tr><tr><td style="background-color: buttonface; text-align: left"><div id="wwp100597" class="Table_Cell_Body"><span class="Code">fingerprinting.max_blocks</span></div></td><td style="background-color: buttonface; text-align: left"><div id="wwp100606" class="Table_Cell_Body">Max number of blocks read from fingerprinting</div></td></tr><tr><td style="background-color: Transparent; text-align: left"><div id="wwp100621" class="Table_Cell_Body"><span class="Code">schema_analysis.retrieve_keys</span></div></td><td style="background-color: Transparent; text-align: left"><div id="wwp100630" class="Table_Cell_Body">Retrieve Primary Keys and Foreign Keys</div></td></tr><tr><td style="background-color: buttonface; text-align: left"><div id="wwp100645" class="Table_Cell_Body"><span class="Code">lineage.view.enabled</span></div></td><td style="background-color: buttonface; text-align: left"><div id="wwp100657" class="Table_Cell_Body">Specifies whether Lineage View is enabled. Default value <span class="Code">true</span>.</div></td></tr></table></div><div id="wwp100672" class="Heading_4">For project level only</div><div id="wwp100687" class="Paragraph"> Parameter| Expected Value | | :--- | :--- | | <span class="Code">connection.project_id</span> | Project identifier | | <span class="Code">fingerprint.project_id</span> | Specific Project ID | | <span class="Code">fingerprint.json_key</span> | Path to the specific project access JSON Key |</div><div id="wwp100693" class="Heading_2">User Permissions</div><div id="wwp100699" class="Paragraph">In order to collect metadata, the user permissions must allow them to list and read all sources that need to be cataloged. </div><div id="wwp100705" class="Heading_3">Roles</div><div id="wwp100711" class="Paragraph">To extract metadata, the technical account must have the following predefined roles: </div><ul id="wwl100813" class="UList"><li id="wwli100777" class="UList_Item" value="1"><div id="wwp100717" class="UList_Paragraph">For the BigQueryOrganization connector:</div><ul id="wwl100774" class="UList"><li id="wwli100750" class="UList_Item" value="1"><div id="wwp100723" class="UList_Paragraph">On the project where the service account is being managed:</div><ul id="wwl100747" class="UList"><li id="wwli100735" class="UList_Item" value="1"><div id="wwp100729" class="UList_Paragraph">Project/Browser (roles/Browser)</div></li><li id="wwli100744" class="UList_Item" value="2"><div id="wwp100738" class="UList_Paragraph">BigQuery Metadata viewer (roles/bigquery.metadataviewer)</div></li></ul></li><li id="wwli100771" class="UList_Item" value="2"><div id="wwp100753" class="UList_Paragraph">On all projects that need to be cataloged:</div><ul id="wwl100768" class="UList"><li id="wwli100765" class="UList_Item" value="1"><div id="wwp100759" class="UList_Paragraph">BigQuery Metadata Viewer (roles/bigquery.metadataviewer)</div></li></ul></li></ul></li><li id="wwli100810" class="UList_Item" value="2"><div id="wwp100780" class="UList_Paragraph">For the BigQuery connector:</div><ul id="wwl100807" class="UList"><li id="wwli100804" class="UList_Item" value="1"><div id="wwp100786" class="UList_Paragraph">On the project that needs to be cataloged:</div><ul id="wwl100801" class="UList"><li id="wwli100798" class="UList_Item" value="1"><div id="wwp100792" class="UList_Paragraph">BigQuery Metadata Viewer (roles/bigquery.metadataviewer)</div></li></ul></li></ul></li></ul><div id="wwp100816" class="Paragraph">The running user will also need this specific authorization: bigquery.jobs.create (required in order to retrieve Primary Keys &amp; Foreign Keys)</div><div id="wwp100822" class="Paragraph">If the data profiling feature is enabled, another technical account is used. The project on which the data profiling feature should focus also needs to be specified and the running user needs to have a read access on its tables.  </div><ul id="wwl100837" class="UList"><li id="wwli100834" class="UList_Item" value="1"><div id="wwp100828" class="UList_Paragraph">BigQuery/BigQuery Data Viewer (roles/bigquery.dataViewer)</div></li></ul><div id="wwp100840" class="Heading_2">Rich Filters</div><div id="wwp100846" class="Paragraph">Since version 47 of the scanner, the BigQuery connector benefits from the feature of rich filters in the configuration of the connector. This functionality also applies if on the metadata "Roles" of the datasets.</div><div id="wwp100855" class="Paragraph">Read more: <span class="Link"><a href="../Technical%20Documentation/zeenea-filters.html#" title="Filters">Filters</a></span></div><div id="wwp100861" class="Paragraph">The filter can apply to the following criteria:</div><div class="ww_skin_page_overflow"><table id="wwt101005" class="Table" style="border-collapse: collapse; margin-bottom: 18px" border="1px solid #888888" summary=""><tr><th style="background-color: buttonface; text-align: left; vertical-align: middle"><div id="wwp100867" class="Table_Cell_Head">Criteria</div></th><th style="background-color: buttonface; text-align: left; vertical-align: middle"><div id="wwp100876" class="Table_Cell_Head">Description</div></th><th style="background-color: buttonface; text-align: left; vertical-align: middle"><div id="wwp100885" class="Table_Cell_Head">Connector</div></th></tr><tr><td style="background-color: Transparent; text-align: left"><div id="wwp100897" class="Table_Cell_Body">project</div></td><td style="background-color: Transparent; text-align: left"><div id="wwp100906" class="Table_Cell_Body">Google Cloud project name</div></td><td style="background-color: Transparent; text-align: left"><div id="wwp100915" class="Table_Cell_Body">BigQueryOrganization</div></td></tr><tr><td style="background-color: buttonface; text-align: left"><div id="wwp100927" class="Table_Cell_Body">dataset</div></td><td style="background-color: buttonface; text-align: left"><div id="wwp100936" class="Table_Cell_Body">BigQuery dataset name</div></td><td style="background-color: buttonface; text-align: left"><div id="wwp100954" class="Table_Cell_Body">BigQueryOrganization<span class="HTML"><br /></span>BigQuery</div></td></tr><tr><td style="background-color: Transparent; text-align: left"><div id="wwp100966" class="Table_Cell_Body">table</div></td><td style="background-color: Transparent; text-align: left"><div id="wwp100975" class="Table_Cell_Body">Table or view name</div></td><td style="background-color: Transparent; text-align: left"><div id="wwp100993" class="Table_Cell_Body">BigQueryOrganization<span class="HTML"><br /></span>BigQuery</div></td></tr></table></div><div id="wwp101008" class="Heading_2">Data Extraction</div><div id="wwp101014" class="Paragraph">At the project level, the connector will crawl through all data sources to extract information. This action will be done on all projects at the organization level.</div><div id="wwp101020" class="Heading_2">Collected Metadata</div><div id="wwp101026" class="Heading_3">Inventory</div><div id="wwp101032" class="Paragraph">The inventory collects all data sources that the user can access. </div><div id="wwp101038" class="Heading_2">Dataset</div><div id="wwp101044" class="Paragraph">A dataset is a Denodo derived view. </div><ul id="wwl101251" class="UList"><li id="wwli101059" class="UList_Item" value="1"><div id="wwp101053" class="UList_Paragraph"><span class="Bold">Name</span></div></li><li id="wwli101071" class="UList_Item" value="2"><div id="wwp101065" class="UList_Paragraph"><span class="Bold">Source Description</span></div></li><li id="wwli101248" class="UList_Item" value="3"><div id="wwp101077" class="UList_Paragraph"><span class="Bold">Technical Data</span>:</div><ul id="wwl101245" class="UList"><li id="wwli101089" class="UList_Item" value="1"><div id="wwp101083" class="UList_Paragraph">Dataset Id</div></li><li id="wwli101098" class="UList_Item" value="2"><div id="wwp101092" class="UList_Paragraph">Table Id</div></li><li id="wwli101107" class="UList_Item" value="3"><div id="wwp101101" class="UList_Paragraph">Project</div></li><li id="wwli101116" class="UList_Item" value="4"><div id="wwp101110" class="UList_Paragraph">Dataset</div></li><li id="wwli101125" class="UList_Item" value="5"><div id="wwp101119" class="UList_Paragraph">Table</div></li><li id="wwli101134" class="UList_Item" value="6"><div id="wwp101128" class="UList_Paragraph">Type</div></li><li id="wwli101143" class="UList_Item" value="7"><div id="wwp101137" class="UList_Paragraph">Created</div></li><li id="wwli101152" class="UList_Item" value="8"><div id="wwp101146" class="UList_Paragraph">Expiration</div></li><li id="wwli101161" class="UList_Item" value="9"><div id="wwp101155" class="UList_Paragraph">Last modified</div></li><li id="wwli101170" class="UList_Item" value="10"><div id="wwp101164" class="UList_Paragraph">Long-Term Storage Size (bytes)</div></li><li id="wwli101179" class="UList_Item" value="11"><div id="wwp101173" class="UList_Paragraph">Number of rows</div></li><li id="wwli101188" class="UList_Item" value="12"><div id="wwp101182" class="UList_Paragraph">Size (bytes)</div></li><li id="wwli101197" class="UList_Item" value="13"><div id="wwp101191" class="UList_Paragraph">Data location</div></li><li id="wwli101206" class="UList_Item" value="14"><div id="wwp101200" class="UList_Paragraph">Is partitioned</div></li><li id="wwli101215" class="UList_Item" value="15"><div id="wwp101209" class="UList_Paragraph">Partitioned by</div></li><li id="wwli101224" class="UList_Item" value="16"><div id="wwp101218" class="UList_Paragraph">Partitioned on field</div></li><li id="wwli101233" class="UList_Item" value="17"><div id="wwp101227" class="UList_Paragraph">Clustered by</div></li><li id="wwli101242" class="UList_Item" value="18"><div id="wwp101236" class="UList_Paragraph">Labels</div></li></ul></li></ul><div id="wwp101254" class="Heading_2">Field</div><div id="wwp101260" class="Paragraph">Dataset field. </div><ul id="wwl101380" class="UList"><li id="wwli101275" class="UList_Item" value="1"><div id="wwp101269" class="UList_Paragraph"><span class="Bold">Name</span></div></li><li id="wwli101287" class="UList_Item" value="2"><div id="wwp101281" class="UList_Paragraph"><span class="Bold">Source Description</span></div></li><li id="wwli101299" class="UList_Item" value="3"><div id="wwp101293" class="UList_Paragraph"><span class="Bold">Type</span></div></li><li id="wwli101311" class="UList_Item" value="4"><div id="wwp101305" class="UList_Paragraph"><span class="Bold">Can be null</span>: Depending on field settings</div></li><li id="wwli101332" class="UList_Item" value="5"><div id="wwp101326" class="UList_Paragraph"><span class="Bold">Multivalued</span>: <span class="Code">TRUE</span> if the field type is <span class="Code">STRUCT</span>, <span class="Code">FALSE</span> otherwise</div></li><li id="wwli101344" class="UList_Item" value="6"><div id="wwp101338" class="UList_Paragraph"><span class="Bold">Primary Key</span>: Depending on field settings</div></li><li id="wwli101377" class="UList_Item" value="7"><div id="wwp101350" class="UList_Paragraph"><span class="Bold">Technical Data</span>:</div><ul id="wwl101374" class="UList"><li id="wwli101362" class="UList_Item" value="1"><div id="wwp101356" class="UList_Paragraph">Technical Name: Field technical name</div></li><li id="wwli101371" class="UList_Item" value="2"><div id="wwp101365" class="UList_Paragraph">Native type: Field native type</div></li></ul></li></ul><div id="wwp101383" class="Heading_2">Data Profiling</div><div id="wwb101398" class="Blockquote"><div id="wwp101392" class="Blockquote_Paragraph"><span class="Bold">Important:</span> The Data Profiling feature, which can be enabled on this connection, allows your Explorers to get a better grasp on the type of data stored in each fields. This feature, which can be activated in the Scanner, is by default set to run on a weekly basis, every Saturday. However, depending on the number of fields you've activated this feature for, the calculation can quickly become costly. Please make sure the estimated impact of this feature is acceptable and that the default frequency appropriate, before enabling it.</div></div><div id="wwp101404" class="Paragraph">The data profiling feature allows you to calculate statistical profiles on your datasets.More information on this feature can be found here: <span class="Link"><a href="../Features%20_%20Applications/zeenea-data-profiling.html#" title="Data Profiling">Data Profiling</a></span>.</div><div id="wwp101410" class="Paragraph">To activate this feature, the account used must have a read access on the relevant tables. </div><div id="wwp101416" class="Paragraph">In order to retrieve the statistical profiles in BigQuery, the following requests are executed: </div><div id="wwp101425" class="Paragraph"><span class="Code">SELECT count(*) AS result FROM tableName</span></div><div id="wwp101431" class="Paragraph">The above request is used to determine the number of lines in the tableName table. Afterwards, the connector will then determine the size of the targeted data with the following request: </div><div id="wwp101437" class="Code_Fence">SELECT sum(size_bytes) AS size<br />FROM datasetName.__TABLES__<br />WHERE table_id = 'tableId'</div><div id="wwp101443" class="Paragraph">Knowing the size of the targeted data is important, as it is necessary for the algorithm to choose the most appropriate sampling request (otherwise, it would have to scan the entire table). </div><div id="wwp101449" class="Heading_4">Scenario 1, the targeted data size is less than 10Go:</div><div id="wwp101455" class="Code_Fence">SELECT<br />   field1, field2<br />   FROM tableName<br />   WHERE rand()  percentLines</div><div id="wwp101461" class="Heading_4">Scenario 2, the size of the targeted data is greater than 10Go and the size of the collected lines is less than 10Go:</div><div id="wwp101467" class="Code_Fence">SELECT<br />   field1, field2<br />   FROM tableName<br />   TABLESAMPLE SYSTEM (percent10Go PERCENT)<br />   WHERE rand()  percentLinesFor10Go<br />   LIMIT 10000</div><div id="wwp101473" class="Heading_4">Scenario 3, in which both the size of the targeted data and the size of the collected lines are greater than 10Go each (Optimization scenario):</div><div id="wwp101479" class="Code_Fence">SELECT<br />   field1, field2<br />   FROM tableName<br />   TABLESAMPLE SYSTEM (percentLines PERCENT)<br />   LIMIT 10000</div><div id="wwp101485" class="Paragraph">The above requests will collect a data sample on fields where the feature has been enabled (fields 1 and 2). The sample contains a maximum of 10,000 lines (defined in the percentLines parameter).</div><div id="wwp101497" class="Paragraph">This request can either be manually executed from the Admin portal, or it can be scheduled, according to the collect-fingerprint variable in the <span class="Code">application.conf</span> file. For more information on this, refer to <span class="Link"><a href="../Technical%20Documentation/zeenea-scanner-setup.html#" title="Zeenea Scanner Setup">Zeenea Scanner Setup</a></span>.</div><div id="wwp101503" class="Heading_2">Object Identification Keys</div><div id="wwp101509" class="Paragraph">An identification key is associated with each object in the catalog. In the case of the object being created by a connector, the connector builds it.</div><div id="wwp101518" class="Paragraph">More information about how it works can be found here: <span class="Link"><a href="../Features%20_%20Applications/zeenea-identification-keys.html#" title="Identification Keys">Identification Keys</a></span>.</div><div class="ww_skin_page_overflow"><table id="wwt101641" class="Table" style="border-collapse: collapse; margin-bottom: 18px" border="1px solid #888888" summary=""><tr><th style="background-color: buttonface; vertical-align: middle"><div id="wwp101524" class="Table_Cell_Head">Object</div></th><th style="background-color: buttonface; vertical-align: middle"><div id="wwp101533" class="Table_Cell_Head">Identification Key</div></th><th style="background-color: buttonface; vertical-align: middle"><div id="wwp101542" class="Table_Cell_Head">Description</div></th></tr><tr><td style="background-color: Transparent"><div id="wwp101554" class="Table_Cell_Body">Dataset</div></td><td style="background-color: Transparent"><div id="wwp101563" class="Table_Cell_Body">- BigQueryOrganization: code/project id/dataset id/table id&lt;br&gt;- BigQuery: code/dataset id/table id</div></td><td style="background-color: Transparent"><div id="wwp101584" class="Table_Cell_Body">- <span class="Bold">code</span>: Unique identifier of the connection noted in the configuration file&lt;br&gt;- <span class="Bold">project id</span>: BigQuery project id&lt;br&gt;- <span class="Bold">dataset id</span>: BigQuery dataset name&lt;br&gt;- <span class="Bold">table id</span>: Table name</div></td></tr><tr><td style="background-color: buttonface"><div id="wwp101596" class="Table_Cell_Body">Field</div></td><td style="background-color: buttonface"><div id="wwp101605" class="Table_Cell_Body">- BigQueryOrganization: code/project id/dataset id/table id/field name&lt;br&gt;- BigQuery: code/dataset id/table id/field name</div></td><td style="background-color: buttonface"><div id="wwp101629" class="Table_Cell_Body">- <span class="Bold">code</span>: Unique identifier of the connection noted in the configuration file&lt;br&gt;- <span class="Bold">project id</span>: BigQuery project id&lt;br&gt;- <span class="Bold">dataset id</span>: BigQuery dataset name&lt;br&gt;- <span class="Bold">table id</span>: Table name&lt;br&gt;- <span class="Bold">field name</span></div></td></tr></table></div></div><div id="page_dates"><div class="ww_skin_document_last_modified_date">Last modified date: 06/11/2025</div></div><!-- Related Topics --><!--                --><footer><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><div class="ww_skin_page_globalization"><div id="google_translate_element">&nbsp;</div></div><br /></footer></div></div><input type="hidden" id="preserve_unknown_file_links" value="false"></input><noscript><div id="noscript_warning">This site works best with JavaScript enabled</div></noscript><script type="text/javascript" src="../scripts/common.js"></script><script type="text/javascript" src="../scripts/page.js"></script></body></html>