<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Troubleshooting Scanners and Connections</title><link rel="Prev" href="zeenea-silwood-safyr.html" title="Previous" /><link rel="Next" href="connectors.html" title="Next" /><link rel="StyleSheet" href="../css/font-awesome/css/all.min.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/zeenea-troubleshooting.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/webworks.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/print.css" type="text/css" media="print" /><noscript><div id="noscript_padding"></div></noscript></head><body id="pN7_002b2FvDGh5DFiVaxV2mqjVw" class="ww_skin_page_body" style="visibility: hidden;"><input type="hidden" id="page_onload_url" value="../index.html#page/Technical%20Documentation/zeenea-troubleshooting.html"></input><span id="dropdown_ids" style="display:none;"></span><div id="ww_content_container"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><a class="WebWorks_Breadcrumb_Link" href="scanners.html">Technical Documentation</a> : <a class="WebWorks_Breadcrumb_Link" href="scanners.html#p100003">Scanners</a> : <span class="WebWorks_Breadcrumb_Text">Troubleshooting Scanners and Connections</span></div><div class="ww_skin_page_toolbar"><div id="dropdown_button_container" class="dropdown_container dropdown_button_container_disabled"><a id="show_hide_all" class="ww_skin ww_behavior_dropdown_toggle ww_skin_dropdown_toggle" title="Page DropDown Toggle" href="#"><i class="far"></i></a><span class="ww_skin_page_toolbar_divider">&nbsp;</span></div><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#"><i class="fa"></i></a></div><!-- was this helpful button --><!--                         --><div class="ww_skin_was_this_helpful_container"><div class="ww_skin_was_this_helpful_message">Was this helpful?</div><div class="ww_skin_was_this_helpful_buttons_container"><div id="helpful_thumbs_up" class="ww_skin_was_this_helpful_button" title="Helpful"><i class="far"></i></div><div id="helpful_thumbs_down" class="ww_skin_was_this_helpful_button" title="Unhelpful"><i class="far"></i></div></div></div></header><div id="page_content_container"><div id="page_content"><div id="wwp100003" class="Heading_1">Troubleshooting Scanners and Connections</div><div id="wwp100009" class="Paragraph">This topic describes the procedure to follow in case of a problem with the Zeenea scanner or the configuration of the connection.</div><div id="wwp100015" class="Paragraph">This procedure is intended for users who have access to the machines on which the scanning processes are hosted.</div><div id="wwp100021" class="Paragraph">If you do not find in the answers to common issues, you can report your incident by opening a ticket and contacting the operator of Zeenea. We will be able to refer to the latter for additional information.</div><div id="wwp100027" class="Heading_2">Unresolved Issue Procedure</div><div id="wwp100033" class="Paragraph">Here is the recommended procedure when a problem is encountered:</div><ol id="wwl100129" class="OList"><li id="wwli100048" class="OList_Item" value="1"><div id="wwp100042" class="OList_Paragraph">If your scanner version is not the latest version available, please upgrade it in order to validate if the issue is already fixed or not. The upgrade procedure is described in <span class="Link"><a href="../Features%20_%20Applications/zeenea-managing-scanners.html#" title="Managing Scanners">Managing Scanners</a></span>.</div></li><li id="wwli100078" class="OList_Item" value="2"><div id="wwp100051" class="OList_Paragraph">If it appears that the problem is related to the user interface, collecting information at this level will be useful for understanding and therefore solving the problem.</div><ul id="wwl100075" class="UList"><li id="wwli100063" class="UList_Item" value="1"><div id="wwp100057" class="UList_Paragraph">It is important to collect the traces of exchanges between the browser and Zeenea services. Any JavaScript errors should be logged.</div></li><li id="wwli100072" class="UList_Item" value="2"><div id="wwp100066" class="UList_Paragraph">By activating the Network Developer tool, the requests exchanged between the interface and the service will be visible and if one of them is in error, it will be faster to understand the problem. In this case, retrieving the information from both the request made and the response received will provide useful information.</div></li></ul></li><li id="wwli100108" class="OList_Item" value="3"><div id="wwp100081" class="OList_Paragraph">It is important to collect the server-side traces recorded in the logs. Zeenea's configuration includes by default a log named scanner. log in the logs/directory. Errors related to the incident may therefore be found there. If the incident cannot be reproduced, it is important to keep the lines relating to the time it occurred.</div><ul id="wwl100105" class="UList"><li id="wwli100093" class="UList_Item" value="1"><div id="wwp100087" class="UList_Paragraph">Keep the content of the log so you can communicate it to the Zeenea support.</div></li><li id="wwli100102" class="UList_Item" value="2"><div id="wwp100096" class="UList_Paragraph">If the problem is reproducible, isolate the possible errors that would appear during the reproduction procedure.</div></li></ul></li><li id="wwli100117" class="OList_Item" value="4"><div id="wwp100111" class="OList_Paragraph">It is not necessary, except on request of Zeenea support, to modify the levels of the traces in the logs. Errors will be logged by default. More detailed information will only be necessary in certain cases and in a very targeted manner: Zeenea support will then specify how to proceed.</div></li><li id="wwli100126" class="OList_Item" value="5"><div id="wwp100120" class="OList_Paragraph">Open a ticket by attaching the technical elements collected and specifying the issue encountered.</div></li></ol><div id="wwp100132" class="Heading_2">Common Errors and Solutions</div><div id="wwp100138" class="Heading_4">1. The connection I just added does not appear in my Administration interface or is indicated "in error" in the Administration interface.</div><div id="wwp100144" class="Paragraph">Check the scanner's logs to view the list of connections it found and scanned, and any errors in the configuration files of connections that were ignored. </div><div id="wwp100150" class="Heading_4">2. I’m unable to download the scanner using the curl command</div><div id="wwp100156" class="Paragraph">Make sure that the following placeholders: </div><ul id="wwl100186" class="UList"><li id="wwli100171" class="UList_Item" value="1"><div id="wwp100165" class="UList_Paragraph"><span class="Code">$APISECRET</span></div></li><li id="wwli100183" class="UList_Item" value="2"><div id="wwp100177" class="UList_Paragraph"><span class="Code">$hostname</span> </div></li></ul><div id="wwp100189" class="Paragraph">have been replaced by their actual values in the command:</div><div id="wwp100195" class="HTML">   <pre>curl -L -H "X-API-SECRET: <font className="codeHighlight">$APISECRET</font>" "https://<font className="codeHighlight">$hostname</font>/studio/api-v1/agent/get-agent" -o scanner.tar.gz</pre></div><div id="wwp100207" class="Paragraph">Make sure to also check that you’re not using a proxy. </div><div id="wwp100213" class="Heading_4">3. The server certificate is not recognized</div><div id="wwp100219" class="Paragraph">If the scanner fails to connect to Zeenea with the error message: </div><div id="wwp100228" class="Paragraph">   <span class="Code">Error: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</span></div><div id="wwp100234" class="Paragraph">then it is possible that the proxy is listening for the network and is generating a fake Zeenea certificate, using an internal CA. This certificate will not be recognized by Java. </div><div id="wwp100240" class="Paragraph">Confirm this is happening with the following command: </div><div id="wwp100246" class="HTML"><pre>keytool -printcert -sslserver <font className="codeHighlight">[instance-name]</font>.zeenea.app</pre></div><div id="wwp100258" class="Paragraph">Below is the expected result: </div><div id="wwp100264" class="Code_Fence">Certificate #0<br />====================================<br />Owner : CN=*.zeenea.app<br />Issuer : CN=Amazon, OU=Server CA 1B, O=Amazon, C=US<br />Serial Number : 7e4ffeaa2bee20ebe662390d3bdfd1f<br />Valid from Sun May 31 02:00:00 CEST 2020 to Wed Jun 30 14:00:00 CEST 2021<br />Certificate fingerprints:<br />         SHA 1: 9A:74:DD:9F:B2:B7:F0:E7:27:E8:B7:84:FD:F9:25:37:82:A0:41:FF<br />         SHA 256: 25:3C:36:3D:9A:F1:C6:C6:D6:0D:93:0B:A0:05:C9:72:AC:CA:76:92:91:B7:01:6E:76:37:C0:92:C8:AE:6B:BB<br />Signature algorithm name: SHA256withRSA<br />Subject public key algorithm: Clé RSA 2048 bits<br />Version: 3</div><div id="wwp100279" class="Paragraph">If the issuer is an internal CA, you’ll need to retrieve the certification chain from the CA and manually add it to the <span class="Code">conf/</span> folder (<span class="Code">PKCS12</span> or <span class="Code">JKS</span>). You’ll then have to manually edit the conf/application.conf file, and especially the following part: </div><div id="wwp100285" class="Code_Fence">################# TLS SPECIFIC TRUSTSTORE ##############<br /><br />play.ws.ssl {<br />  trustManager = {<br />      stores = [<br />        # Specific truststore<br />        {<br />            path = "/path/to/zeenea/conf/truststore.p12"<br />            # type should be either PKCS12 or JKS (PEM format is not supported)<br />            type = "PKCS12"<br />            password = "changeit"<br />        }<br />        # Default trust store<br />        # This block keep compatibility this classic CA and should be unchanged (event the password)<br />        {<br />            path = ${java.home}/lib/security/cacerts<br />            password = "changeit"<br />        }<br />      ]<br />  }</div><div id="wwp100291" class="Heading_4">4. The scanner is duplicated</div><div id="wwp100297" class="Paragraph">Kill both instances of the scanner, and restart it. </div><div id="wwp100303" class="Paragraph">It is highly recommended to launch the scanner using a systemd service to avoid duplicates. </div><div id="wwp100309" class="Heading_4">5. java.lang.UnsatisfiedLinkError [...] failed to map segment from shared object: Operation not permitted</div><div id="wwp100315" class="Paragraph">The user the scanner is executed with doesn't have the right to execute from the default /tmp folder.</div><div id="wwp100324" class="Paragraph">You have to redefine this default folder using a specific Java property: <span class="Code">java.io.tmpdir</span></div><div id="wwp100330" class="Paragraph">Add this parameter to your ExecStart command from your systemd init file:</div><div id="wwp100336" class="Code_Fence">ExecStart=[...] -Djava.io.tmpdir=/a/path/to/another/folder/</div><div id="wwp100342" class="Paragraph">This folder should be owned by the user the scanner starts with.</div></div><div id="page_dates"><div class="ww_skin_document_last_modified_date">Last modified date: 06/11/2025</div></div><!-- Related Topics --><!--                --><footer><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><div class="ww_skin_page_globalization"><div id="google_translate_element">&nbsp;</div></div><br /></footer></div></div><input type="hidden" id="preserve_unknown_file_links" value="false"></input><noscript><div id="noscript_warning">This site works best with JavaScript enabled</div></noscript><script type="text/javascript" src="../scripts/common.js"></script><script type="text/javascript" src="../scripts/page.js"></script></body></html>