<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Zeenea Scanner Setup</title><link rel="Prev" href="scanners.html" title="Previous" /><link rel="Next" href="zeenea-scanner-docker.html" title="Next" /><link rel="StyleSheet" href="../css/font-awesome/css/all.min.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/zeenea-scanner-setup.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/webworks.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/print.css" type="text/css" media="print" /><noscript><div id="noscript_padding"></div></noscript></head><body id="pl6vweWspewxQV40ABNk0_002bA" class="ww_skin_page_body" style="visibility: hidden;"><input type="hidden" id="page_onload_url" value="../index.html#page/Technical%20Documentation/zeenea-scanner-setup.html"></input><span id="dropdown_ids" style="display:none;"></span><div id="ww_content_container"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><a class="WebWorks_Breadcrumb_Link" href="scanners.html">Technical Documentation</a> : <a class="WebWorks_Breadcrumb_Link" href="scanners.html#p100003">Scanners</a> : <span class="WebWorks_Breadcrumb_Text">Zeenea Scanner Setup</span></div><div class="ww_skin_page_toolbar"><div id="dropdown_button_container" class="dropdown_container dropdown_button_container_disabled"><a id="show_hide_all" class="ww_skin ww_behavior_dropdown_toggle ww_skin_dropdown_toggle" title="Page DropDown Toggle" href="#"><i class="far"></i></a><span class="ww_skin_page_toolbar_divider">&nbsp;</span></div><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#"><i class="fa"></i></a></div><!-- was this helpful button --><!--                         --><div class="ww_skin_was_this_helpful_container"><div class="ww_skin_was_this_helpful_message">Was this helpful?</div><div class="ww_skin_was_this_helpful_buttons_container"><div id="helpful_thumbs_up" class="ww_skin_was_this_helpful_button" title="Helpful"><i class="far"></i></div><div id="helpful_thumbs_down" class="ww_skin_was_this_helpful_button" title="Unhelpful"><i class="far"></i></div></div></div></header><div id="page_content_container"><div id="page_content"><div id="wwp100003" class="Heading_1">Zeenea Scanner Setup</div><div id="wwp100009" class="Heading_2">Architecture Overview</div><div id="wwp100021" class="Paragraph">   <span style="display: inline; float: none; text-indent: initial"><img class="Image" src="../Technical%20Documentation/images/zeenea-scanner-architecture.png" width="100%" style="left: 0pt; max-height: 185px; max-width: 298px; top: 0pt" alt="" title="" /></span></div><ul id="wwl100090" class="UList"><li id="wwli100033" class="UList_Item" value="1"><div id="wwp100027" class="UList_Paragraph">Each instance of Zeenea Scanner must be deployed in your infrastructure.</div></li><li id="wwli100042" class="UList_Item" value="2"><div id="wwp100036" class="UList_Paragraph">The Scanner's primary responsibility is to collect metadata from the systems you choose to connect to.</div></li><li id="wwli100051" class="UList_Item" value="3"><div id="wwp100045" class="UList_Paragraph">The communication between the Scanner and your systems is initiated by the Scanner. It uses different protocols depending on the nature of the system with which the Scanner is communicating.</div></li><li id="wwli100060" class="UList_Item" value="4"><div id="wwp100054" class="UList_Paragraph">The Scanner relies on connectors dedicated to communication with a particular type of system (e.g., Oracle, Table, Amazon S3 connectors, ...).</div></li><li id="wwli100069" class="UList_Item" value="5"><div id="wwp100063" class="UList_Paragraph">The Scanner communicates with the Zeenea platform only on its own initiative: no incoming feed is required.</div></li><li id="wwli100078" class="UList_Item" value="6"><div id="wwp100072" class="UList_Paragraph">The communication between the Scanner and the Zeenea platform is done via the HTTPS protocol (on default port: 443), in a secure way (TLS) and via an authentication based on an API key generated by you.</div></li><li id="wwli100087" class="UList_Item" value="7"><div id="wwp100081" class="UList_Paragraph">This outgoing communication can optionally pass through a proxy.</div></li></ul><div id="wwb100105" class="Blockquote"><div id="wwp100099" class="Blockquote_Paragraph"><span class="Bold">Note:</span> The scanner process is expected to <span class="Bold">run continuously</span> with special attention during the execution of its sub-processes (by default every night) and during the entire time users may use Zeenea platform.</div></div><div id="wwp100108" class="Heading_2">Requirements for Installation</div><div id="wwp100114" class="Heading_4">Hardware Requirements</div><div id="wwp100120" class="Paragraph">Zeenea scanners must be installed on x86-64 Linux servers or Windows servers.</div><div id="wwp100126" class="Paragraph">When running the scanner on a Linux, server, the following configurations are supported:</div><ul id="wwl100168" class="UList"><li id="wwli100138" class="UList_Item" value="1"><div id="wwp100132" class="UList_Paragraph">Red Hat Enterprise Linux Server &gt;= 6.8</div></li><li id="wwli100147" class="UList_Item" value="2"><div id="wwp100141" class="UList_Paragraph">CentOS &gt;= 7.3</div></li><li id="wwli100156" class="UList_Item" value="3"><div id="wwp100150" class="UList_Paragraph">Ubuntu Server LTS &gt;= 16.04</div></li><li id="wwli100165" class="UList_Item" value="4"><div id="wwp100159" class="UList_Paragraph">Amazon Linux &gt;= 2017.03</div></li></ul><div id="wwp100171" class="Paragraph">Standard sizing for a server:</div><ul id="wwl100213" class="UList"><li id="wwli100183" class="UList_Item" value="1"><div id="wwp100177" class="UList_Paragraph">4 cores</div></li><li id="wwli100192" class="UList_Item" value="2"><div id="wwp100186" class="UList_Paragraph">4 GB RAM minimum, 8+ GB recommended</div></li><li id="wwli100201" class="UList_Item" value="3"><div id="wwp100195" class="UList_Paragraph">20 GB of disk space</div></li><li id="wwli100210" class="UList_Item" value="4"><div id="wwp100204" class="UList_Paragraph">The server can be virtually hosted.</div></li></ul><div id="wwp100216" class="Heading_2">Software Dependencies</div><div id="wwp100225" class="Paragraph"><span class="Bold">The current Scanner version requires Java 11</span>. OpenJDK or Oracle JDK can be installed indifferently.</div><div id="wwb100243" class="Blockquote"><div id="wwp100237" class="Blockquote_Paragraph"><span class="Bold">Tip:</span> Remember to validate your installation by checking it with the command <span class="Code"># java --version</span>.</div></div><div id="wwp100246" class="Paragraph">You should see in reply the version number of Java and be able to verify that it is one of the supported versions.</div><div id="wwp100252" class="Heading_2">Network Requirements</div><div id="wwp100258" class="Paragraph">The Zeenea Scanner process will establish connections to the systems it is connected to and from which it will need to extract metadata.</div><div id="wwp100264" class="Paragraph">Depending on the platforms, the protocols will vary and the flow openings will have to be carried out accordingly.</div><div id="wwp100270" class="Paragraph">The Zeenea Scanner process will also exchange with the Zeenea SaaS platform. The network flow between the Zeenea Scanner process and the platform will therefore have to be allowed. The exchanges are always initiated by the Scanner process and are done in HTTPS. A proxy (with a possible authentication) can be configured.</div><div id="wwp100276" class="Heading_2">Necessary Local Rights</div><div id="wwp100282" class="Paragraph">The Zeenea Scanner service must be run with a dedicated user account (no login shell user account).</div><div id="wwp100288" class="Paragraph">Under Linux, it is usually advisable to create a group with the same name.</div><div id="wwp100294" class="Paragraph">This user must have read and/or write rights to the entire directory and subdirectories of the Scanner.</div><div id="wwp100300" class="Heading_2">Installation</div><div id="wwp100309" class="Paragraph">Our scanner is regularly updated to correct bugs and add improvements. <span class="Bold">We recommend updating it at least every 6 months</span>.</div><div id="wwp100315" class="Heading_3">Linux Environnement</div><div id="wwp100321" class="Paragraph">Unless the binary is specifically provided to you by Zeenea, the Scanner can be downloaded as an archive by using a dedicated API entry point or via the Scanners monitoring page in Zeenea (Administration interface) where a download link is proposed.</div><div id="wwp100330" class="Paragraph">If you decide to download the Scanner using the API, you have to create a dedicated API key. See <span class="Link"><a href="../Features%20_%20Applications/zeenea-managing-api-keys.html#" title="Managing API Keys">Managing API Keys</a></span>.</div><div id="wwp100336" class="Paragraph">Then, use the previously created API key in the following command:</div><div id="wwp100345" class="Paragraph"><span class="Code">curl -L -H "X-API-SECRET: $APISECRET" "https://$hostname/studio/api-v1/agent/get-agent" -o scanner.tar.gz</span></div><div id="wwp100351" class="Paragraph">With:</div><ul id="wwl100381" class="UList"><li id="wwli100366" class="UList_Item" value="1"><div id="wwp100360" class="UList_Paragraph"><span class="Code">$APISECRET</span>: the secret of the API key</div></li><li id="wwli100378" class="UList_Item" value="2"><div id="wwp100372" class="UList_Paragraph"><span class="Code">$hostname</span>: your instance. For example: myenv.zeenea.app</div></li></ul><div id="wwb100393" class="Blockquote"><div id="wwp100387" class="Blockquote_Paragraph"><span class="Bold">Note:</span> The API Key used for this request must be of type "Scanner".</div></div><div id="wwp100396" class="Paragraph">Once the archive is downloaded, uncompress it in the folder of your choice, then proceed with the configuration.</div><div id="wwp100402" class="Heading_3">Microsoft Windows: Install as a Service</div><div id="wwp100408" class="Paragraph">Windows compatible versions of the scanner start with version 51.</div><div id="wwp100414" class="Heading_4">Scanner 69 and Later</div><div id="wwp100420" class="Paragraph">Installation of the Windows service uses Apache Procrun, part of the Apache Commons Daemon suite. From version 69 onwards, binaries for x86_64 architectures are supplied. You'll find them in the scanner's bin folder.</div><div id="wwp100432" class="Paragraph">To install and update the Windows service, use the <span class="Code">bin\zeenea-service.bat</span> command, which will call the <span class="Code">bin\prunsrv.exe</span> command.</div><div id="wwp100441" class="Paragraph"><span class="Code">zeenea-service.bat</span> offers the following options:</div><div class="ww_skin_page_overflow"><table id="wwt100780" class="Table" style="border-collapse: collapse; margin-bottom: 18px" border="1px solid #888888" summary=""><tr><th style="background-color: buttonface; text-align: left; vertical-align: middle"><div id="wwp100462" class="Table_Cell_Head"><span class="HTML"><div style={{width: 120}}>Option</div></span></div></th><th style="background-color: buttonface; text-align: left; vertical-align: middle"><div id="wwp100471" class="Table_Cell_Head">Description</div></th><th style="background-color: buttonface; text-align: left; vertical-align: middle"><div id="wwp100480" class="Table_Cell_Head">Default</div></th></tr><tr><td style="background-color: Transparent; text-align: left"><div id="wwp100495" class="Table_Cell_Body"><span class="Code">--JvmDll</span></div></td><td style="background-color: Transparent; text-align: left"><div id="wwp100507" class="Table_Cell_Body">Path to the Windows DLL to be used. If the argument is not specified, the DLL will be defined using the <span class="Code">%JAVA_HOME%</span> environment variable or the path to the "java" executable found in Path.</div></td><td style="background-color: Transparent; text-align: left"><div id="wwp100516" class="Table_Cell_Body">&nbsp;</div></td></tr><tr><td style="background-color: buttonface; text-align: left"><div id="wwp100531" class="Table_Cell_Body"><span class="Code">--ServiceName</span></div></td><td style="background-color: buttonface; text-align: left"><div id="wwp100540" class="Table_Cell_Body">Windows service name.</div></td><td style="background-color: buttonface; text-align: left"><div id="wwp100552" class="Table_Cell_Body"><span class="Code">ZeeneaScanner</span></div></td></tr><tr><td style="background-color: Transparent; text-align: left"><div id="wwp100567" class="Table_Cell_Body"><span class="Code">--ServiceUser</span></div></td><td style="background-color: Transparent; text-align: left"><div id="wwp100576" class="Table_Cell_Body">Name of the Windows user running the service.</div></td><td style="background-color: Transparent; text-align: left"><div id="wwp100588" class="Table_Cell_Body"><span class="Code">LocalSystem</span></div></td></tr><tr><td style="background-color: buttonface; text-align: left"><div id="wwp100603" class="Table_Cell_Body"><span class="Code">--LogLevel</span></div></td><td style="background-color: buttonface; text-align: left"><div id="wwp100687" class="Table_Cell_Body">Procrun log level. Values can be:<span class="HTML"><ul><li>Error</li><li>Warn</li><li>Info</li><li>Debug</li><li>Trace</li></ul></span></div></td><td style="background-color: buttonface; text-align: left"><div id="wwp100699" class="Table_Cell_Body"><span class="Code">Info</span></div></td></tr><tr><td style="background-color: Transparent; text-align: left"><div id="wwp100714" class="Table_Cell_Body"><span class="Code">--LogPath</span></div></td><td style="background-color: Transparent; text-align: left"><div id="wwp100723" class="Table_Cell_Body">Location of procrun log files.</div></td><td style="background-color: Transparent; text-align: left"><div id="wwp100732" class="Table_Cell_Body">"logs" subfolder in the scanner folder</div></td></tr><tr><td style="background-color: buttonface; text-align: left"><div id="wwp100747" class="Table_Cell_Body"><span class="Code">--JvmMx</span></div></td><td style="background-color: buttonface; text-align: left"><div id="wwp100756" class="Table_Cell_Body">Maximum size of the Java memory pool in MB.</div></td><td style="background-color: buttonface; text-align: left"><div id="wwp100768" class="Table_Cell_Body"><span class="Code">4096</span></div></td></tr></table></div><div id="wwp100786" class="Paragraph">Once the service has been set up, you can use <span class="Code">bin\prunmgr.exe</span> to monitor the service.</div><div id="wwp100792" class="Paragraph">Run the following command with the service name used during registration to obtain a process monitoring icon in the system tray. Click on it to open the service settings window.</div><div id="wwp100801" class="Paragraph"><span class="Code">bin\prunmgr.exe //MS//</span></div><div id="wwp100807" class="Heading_4">Scanner 68 and Previous</div><ol id="wwl100975" class="OList"><li id="wwli100849" class="OList_Item" value="1"><div id="wwp100813" class="OList_Paragraph">Download windows binaries:</div><ol id="wwl100846" class="OList"><li id="wwli100828" class="OList_Item" value="1"><div id="wwp100822" class="OList_Paragraph">Go to <span class="Link"><a href="https://downloads.apache.org/commons/daemon/binaries/" target="external_window">https://downloads.apache.org/commons/daemon/binaries/</a></span>.</div></li><li id="wwli100843" class="OList_Item" value="2"><div id="wwp100837" class="OList_Paragraph">In the <span class="Code">windows</span> folder, download the archive <span class="Code">commons-daemon-1.3.4-bin-windows.zip</span>.</div></li></ol></li><li id="wwli100858" class="OList_Item" value="2"><div id="wwp100852" class="OList_Paragraph">Unzip the archive.</div></li><li id="wwli100918" class="OList_Item" value="3"><div id="wwp100861" class="OList_Paragraph">Copy the following files under the root folder of the Scanner:</div><ul id="wwl100915" class="UList"><li id="wwli100876" class="UList_Item" value="1"><div id="wwp100870" class="UList_Paragraph"><span class="Code">prunmgr.exe</span></div></li><li id="wwli100912" class="UList_Item" value="2"><div id="wwp100879" class="UList_Paragraph">Depending on your architecture:</div><ul id="wwl100909" class="UList"><li id="wwli100894" class="UList_Item" value="1"><div id="wwp100888" class="UList_Paragraph">If 32bits, copy <span class="Code">prunsrv.exe</span> there.</div></li><li id="wwli100906" class="UList_Item" value="2"><div id="wwp100900" class="UList_Paragraph">If 64bits, copy <span class="Code">prunsrv.exe</span> from "/amd64" folder there.</div></li></ul></li></ul></li><li id="wwli100972" class="OList_Item" value="4"><div id="wwp100927" class="OList_Paragraph">Using the MS DOS terminal, change your current directory to the root folder of the Scanner. Then execute the launch script by using this command <span class="Code">./bin/zeenea-service.bat</span> with, as a parameter, the path to jvm.dll (should be under the following JRE's folder <span class="Code">/bin/server/jvm.dll</span>)</div><ol id="wwl100969" class="OList"><li id="wwli100945" class="OList_Item" value="1"><div id="wwp100939" class="OList_Paragraph">Command : <span class="Code">./bin/zeenea-service.bat "C:/path/to/dll/jvm.dll</span> <br />   <span class="Code">([--JvmMs 123] [--JvmMx 123] [--JvmSs 123]</span> These are optional arguments to customize the amount of memory the JVM may allocate to different purposes. See JVM documentation for more information.</div></li><li id="wwli100954" class="OList_Item" value="2"><div id="wwp100948" class="OList_Paragraph">Once the command is executed, it should return without any error.</div></li><li id="wwli100966" class="OList_Item" value="3"><div id="wwp100960" class="OList_Paragraph">You can verify the status of the service using this command: <span class="Code">./prunmgr.exe //MS//ZeeneaScanner</span>. An icon should appear in your Windows task bar.</div></li></ol></li></ol><div id="wwp100981" class="Paragraph"><span class="Code">prunmgr.exe</span> : User Interface to manage and configure services once created.</div><div id="wwp100990" class="Paragraph"><span class="Code">prunsrv.exe</span> : Command line application to manage (edit) services.</div><div id="wwb101050" class="Blockquote"><div id="wwp100999" class="Blockquote_Paragraph"><span class="Bold">Note:</span></div><ol id="wwl101047" class="OList"><li id="wwli101020" class="OList_Item" value="1"><div id="wwp101014" class="OList_Paragraph">You can rename <span class="Code">prunmgr.exe</span> to <span class="Code">ZeeneaScanner.exe</span> if you intend to run the application from Windows Explorer (instead of the Command Line). It will act as if it was this command: <span class="Code">./prunmgr.exe //MS//ZeeneaScanner</span>.</div></li><li id="wwli101032" class="OList_Item" value="2"><div id="wwp101026" class="OList_Paragraph">You can manage your service status using command available from procrun. See <span class="Link"><a href="https://commons.apache.org/proper/commons-daemon/procrun.html" target="external_window">here</a></span> for more information.</div></li><li id="wwli101044" class="OList_Item" value="3"><div id="wwp101038" class="OList_Paragraph">Specific service log files are available in the <span class="Code">/service-logs</span> folder in your Scanner folder tree.</div></li></ol></div><div id="wwp101053" class="Heading_2">Configuration</div><div id="wwp101059" class="Heading_3">Name the Scanner</div><div id="wwp101065" class="Paragraph">The name will be the identifier of the Scanner. It will be used by Zeenea to distinctly identify the Scanner and allow the Connections associated with it to be identified.</div><ul id="wwl101098" class="UList"><li id="wwli101077" class="UList_Item" value="1"><div id="wwp101071" class="UList_Paragraph">Only name the scanner using alphanumeric characters, underscores (_), and hyphens (-).</div></li><li id="wwli101086" class="UList_Item" value="2"><div id="wwp101080" class="UList_Paragraph">Donâ€™t use special characters, spaces characters, ...</div></li><li id="wwli101095" class="UList_Item" value="3"><div id="wwp101089" class="UList_Paragraph">The name can be changed afterwards. However, in that event, Zeenea will keep track of a Scanner with the previous name with an offline status.</div></li></ul><div id="wwb101110" class="Blockquote"><div id="wwp101104" class="Blockquote_Paragraph"><span class="Bold">Tip:</span> Select a name and avoid changing it.</div></div><div id="wwp101113" class="Paragraph">Zeenea Scanner name is defined in a file named agent-identifier under the main directory of the scanner. Create such a file or just copy paste the previous one if you are upgrading the scanner to a new version and enter in this file the name that the Scanner will be given (on a single line).</div><div id="wwp101119" class="Paragraph">Sample command to create this file:</div><div id="wwp101128" class="Paragraph"><span class="Code">echo "my-hadoop-cluster-scanner" &gt; agent-identifier</span></div><div id="wwp101137" class="Paragraph">The value <span class="Code">my-hadoop-cluster-scanner</span> in the example above is the name this Scanner will have.</div><div id="wwp101143" class="Heading_2">Scanner Configuration</div><div id="wwp101155" class="Paragraph">The configuration is done via the configuration file <span class="Code">application.conf</span> located in the <span class="Code">conf/</span> directory</div><div id="wwp101167" class="Paragraph">By default, the file is named <span class="Code">application.conf.template</span>. It must be renamed to (or duplicated with the name) <span class="Code">application.conf</span>.</div><div id="wwp101173" class="Heading_3">Enter your Platform Address</div><div id="wwp101182" class="Paragraph">You must enter the address of your Zeenea platform to allow the Scanner to retrieve the metadata. This is done by enhancing the <span class="Code">zeenea-url</span> property with the URL of your platform in the form:</div><div id="wwp101188" class="HTML"><pre>https://<font className="codeHighlight">[instance-name]</font>.zeenea.app</pre></div><div id="wwp101200" class="Paragraph">Example:</div><div id="wwp101209" class="Paragraph"><span class="Code">zeenea-url = "https://myenv.zeenea.app"</span></div><div id="wwp101215" class="Heading_3">Enter Identifiers</div><div id="wwp101224" class="Paragraph">The Scanner authenticates itself to the platform with an "Scanner" type API key containing a pair of information (id and secret). To generate an API key, refer to <span class="Link"><a href="../Features%20_%20Applications/zeenea-managing-api-keys.html#" title="Managing API Keys">Managing API Keys</a></span>.</div><div id="wwp101239" class="Paragraph">The identifier and the secret must be entered in the node <span class="Code">api-key</span>, under <span class="Code">id</span> and <span class="Code">key</span> respectively.</div><div id="wwp101245" class="Paragraph">Example:</div><div id="wwp101251" class="Code_Fence">authentication {<br />  api-key {<br />    secret = "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJpc3MiOiJ6ZWVuZWEiLCJhdWQiOiJ6..."<br />  }<br />}</div><div id="wwp101257" class="Heading_2">Process Configuration (optional)</div><div id="wwp101263" class="Paragraph">The frequency of execution of the various automatic processes carried out by the scanner is configurable under the "automation" node.</div><div id="wwb101278" class="Blockquote"><div id="wwp101272" class="Blockquote_Paragraph"><span class="Bold">Note:</span> It is recommended to keep the default values except in very special cases.</div></div><div id="wwp101281" class="Paragraph">Here are the processes triggered by the scanner:</div><ul id="wwl101347" class="UList"><li id="wwli101296" class="UList_Item" value="1"><div id="wwp101290" class="UList_Paragraph"><span class="Bold">launch-inventory</span>: Build a fresh new inventory of all items the connectors support from the source system. The inventory is what a Data Steward will see when opening the import wizard. By default, this process runs every 24H.</div></li><li id="wwli101308" class="UList_Item" value="2"><div id="wwp101302" class="UList_Paragraph"><span class="Bold">update-schema</span>: For all the synchronized items already imported into the data catalog (Datasets, Fields, Visualizations), update their source metadata from the source system. By default, this process runs every 24H.</div></li><li id="wwli101320" class="UList_Item" value="3"><div id="wwp101314" class="UList_Paragraph"><span class="Bold">synchronize</span>: Some connectors don't use an inventory to let the Data Steward import the items they want, but instead synchronize automatically all the items from the source system with Zeenea. This process will trigger these connectors. By default, this process runs every 24H.</div></li><li id="wwli101332" class="UList_Item" value="4"><div id="wwp101326" class="UList_Paragraph"><span class="Bold">collect-fingerprint</span>: Compute fingerprint and data profiling metrics for items having this option activated. By default, this process runs once a week.</div></li><li id="wwli101344" class="UList_Item" value="5"><div id="wwp101338" class="UList_Paragraph"><span class="Bold">collect-data-sample</span>: Collect a data sample from the last 30 entries of each Dataset, if the option is enabled in the Administration interface. By default, this process runs once a week.</div></li></ul><div id="wwb101362" class="Blockquote"><div id="wwp101356" class="Blockquote_Paragraph"><span class="Bold">Note:</span> Each process execution is configured with the help of a cron expression. Please, read carefully this article describing its syntax: <span class="Link"><a href="https://www.quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/crontrigger.html" target="external_window">https://www.quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/crontrigger.html</a></span></div></div><div id="wwp101365" class="Heading_2">Configure a Proxy (optional)</div><div id="wwb101380" class="Blockquote"><div id="wwp101374" class="Blockquote_Paragraph"><span class="Bold">Note:</span> The gRPC protocol cannot be used in conjunction with a proxy.</div></div><div id="wwp101383" class="Paragraph">It is possible to configure a proxy that will be used by the Scanner during exchanges with the Zeenea platform.</div><div id="wwp101389" class="Paragraph">The configuration portion named proxy-configuration should be uncommented (# characters should be removed) while respecting the opening and closing braces.</div><div id="wwp101395" class="Paragraph">Refer to your documentation to find out which proxy to use and how to configure it.</div><div id="wwp101401" class="Paragraph">The parameters to be provided will be at least:</div><ul id="wwl101431" class="UList"><li id="wwli101416" class="UList_Item" value="1"><div id="wwp101410" class="UList_Paragraph"><span class="Code">host</span>: the proxy address</div></li><li id="wwli101428" class="UList_Item" value="2"><div id="wwp101422" class="UList_Paragraph"><span class="Code">port</span>: the proxy listening port</div></li></ul><div id="wwp101434" class="Paragraph">Other parameters may need to be filled in as well. In this case, uncomment them and value each one.</div><div id="wwp101440" class="Code_Fence">proxy-configuration {<br />    host = "proxy-server"<br />#    The port of the proxy server<br />    port = 3128<br />#    The protocol of the proxy server.  Use "http" or "https". Defaults to "http" if not specified.<br />#    protocol = "http"<br />#    The principal (aka username) of the credentials for the proxy server<br />#    principal = null<br />#<br />#    The password for the credentials for the proxy server<br />#    password = null<br />}</div><div id="wwp101446" class="Heading_2">Modify Default Protocol (HTTP REST vs gRPC)</div><div id="wwp101452" class="Heading_3">Why should you modify this?</div><div id="wwp101458" class="Paragraph">The default REST based protocol is very convenient as it works almost everywhere. But, in some situations, the scanner may face one of its limits: the maximum size of the requests payload.</div><div id="wwp101464" class="Paragraph">gRPC protocol is not concerned by this limitation. Thus it could make sense to consider gRPC in case of very important inventories being built.</div><div id="wwp101470" class="Heading_3">Is my architecture ready for gRPC?</div><div id="wwp101476" class="Paragraph">gRPC uses HTTP/2 as its transport protocol. Your infrastructure MUST support HTTP/2 from end to end. In case of any doubt, please read your proxies documentation to validate they do support HTTP/2 properly.</div><div id="wwp101482" class="Paragraph">When configured to use gRPC, the scanner will communicate with a unique central entry point: grpc.zeenea.app. Make sure this address is accessible for the scanner.</div><div id="wwp101488" class="Heading_3">How do I enable and configure gRPC?</div><div id="wwp101494" class="Paragraph">In order to activate gRPC, you just have to add the following line to your scanner configuration file:</div><div id="wwp101503" class="Paragraph"><span class="Code">protocol = grpc</span></div><div id="wwp101509" class="Paragraph">Once the scanner is restarted, it will start using gRPC to communicate with your Zeenea platform.</div><div id="wwp101515" class="Paragraph">In case you need to specify a proxy, you can do this by editing your scanner configuration file this way:</div><div id="wwp101521" class="Code_Fence">grpc {<br />  host = ""<br />  port = <br />  tenant = ""<br />}</div><div id="wwp101527" class="Heading_2">Connections Configuration</div><div id="wwp101533" class="Paragraph">You have to pay attention to the ability for the scanner to open a connection to the platforms it should communicate with: network routes should be enabled.</div><div id="wwp101542" class="Paragraph">For more about our connectors, see <span class="Link"><a href="../Technical%20Documentation/zeenea-connectors-list.html#" title="Zeenea Connector Downloads">Zeenea Connector Downloads</a></span>.</div><div id="wwp101548" class="Paragraph">New connections are defined using a dedicated configuration file under the connections folder of the Scanner.</div><div id="wwp101557" class="Paragraph">Learn how to <span class="Link"><a href="../Features%20_%20Applications/zeenea-managing-connections.html#" title="Managing Connections">create, manage or delete a connection</a></span>.</div><div id="wwp101563" class="Heading_2">Using a Secret Manager</div><div id="wwp101569" class="Paragraph">Starting from Scanner 73, you can rely on a Secret Manager to provide sensitive information to your connections, like your credentials.</div><div id="wwp101575" class="Paragraph">Starting from Scanner 76, the Secret Manager can also be used for the Scanner configuration (except information defined inside the "secret-manager" node).</div><div id="wwp101581" class="Paragraph">You can only define a single Secret Manager per Scanner.</div><div id="wwp101587" class="Paragraph">Currently, the Scanner supports 2 different Secret Manager types:</div><ul id="wwl101611" class="UList"><li id="wwli101599" class="UList_Item" value="1"><div id="wwp101593" class="UList_Paragraph">AWS Secret Manager</div></li><li id="wwli101608" class="UList_Item" value="2"><div id="wwp101602" class="UList_Paragraph">A local file containing your secrets</div></li></ul><div id="wwp101614" class="Heading_3">AWS Secret Manager</div><div id="wwp101620" class="Paragraph">Configuration example:</div><div id="wwp101626" class="Code_Fence">secret-manager {<br />  key = "my-first-secret" # optional<br />  provider = "aws-secrets-manager"<br />  configuration = {<br />    region = "eu-west-3"<br />#   access_key_id = ""<br />#   secret_access_key = ""<br />#   profile = ""<br />  }<br />#  proxy {<br />#    scheme = "http"<br />#    hostname = "proxy"<br />#    port = 8888<br />#    username = "username"<br />#    password = "pass"<br />#  }<br />}</div><div id="wwp101632" class="Paragraph">Depending on the scanner's host credentials, you may (or may not) need to provide some of the parameters defined in provider-configuration. The Scanner will try to use any existing Instance Role, Environment Variable, or AWS Configuration File being available.</div><div id="wwb101647" class="Blockquote"><div id="wwp101641" class="Blockquote_Paragraph"><span class="Bold">Note:</span> The proxy object is optional.</div></div><div id="wwp101650" class="Heading_3">File Secret Manager</div><div id="wwp101656" class="Paragraph">Configuration example:</div><div id="wwp101662" class="Code_Fence">secret-manager {<br />  key = "my-first-secret" # optional<br />  provider = "file"<br />  configuration = {<br />    file-path = "/path/to/file"<br />  }<br />}</div><div id="wwp101668" class="Paragraph">Exclusively locally accessible files can be used here.</div><div id="wwp101674" class="Paragraph">Such a file must adopt the following format:</div><div id="wwp101680" class="Code_Fence">my-first-secret {<br />  key = "value"<br />  some.complex.key = "again value"<br />  token_databricks = "token secret"<br />  s0m3-s3parat3d-k3y = "some value"<br />  MY_URL = "http://localhost:8080""<br />  filename = "zeenea-scanner-snapshot.json"<br />}<br />scanner_snowflake {<br />  kh12345.eu-west-1.jdbc_url = "jdbc:snowflake://nnmfbau-kh90823.snowflakecomputing.com/""<br />  kh12345.eu-west-1.username = SCANNER<br />  kh12345.eu-west-1.password = value<br />  kn98765.eu-west-1.jdbc_url = "jdbc:snowflake://nnmfbau-kn67972.snowflakecomputing.com/""<br />  kn98765.eu-west-1.username = SCANNER<br />  kn98765.eu-west-1.password = value<br />}</div><div id="wwp101686" class="Heading_3">Secret Injection Syntax</div><div id="wwp101692" class="Paragraph">Your connection file must contain a secret_manager object and can then use the following syntax to benefit from the Secret Manager:</div><div id="wwp101701" class="Paragraph"><span class="Code">${secret_manager.}</span></div><div id="wwp101710" class="Paragraph">Here is an example (based on the local file sample above) <span class="Bold">for a connection</span>:</div><div id="wwp101716" class="Code_Fence">name = "example-name"<br />code = "example-code"<br />connector_id = "databricks-unitycatalog"<br />secret_manager {<br />  enabled = true<br />  key = "my-first-secret"<br />}<br />connection {<br />  url = "https://dbc-91ebdd08-4e3a.cloud.databricks.com""<br />  token = ${secret_manager.token_databricks}<br />}</div><div id="wwp101728" class="Paragraph"><span class="Bold">Starting from Scanner v76</span>, the Scanner configuration (<span class="Code">./conf/application.conf</span>) can also use secrets managed by the Secret Manager (as well as regular ENV variables, not managed by the Secret Manager).</div><div id="wwp101734" class="Paragraph">There is no need to define anything but the secret-manager, as explained above, and then use the same injection syntax.</div><div id="wwp101743" class="Paragraph">For example, in the <span class="Code">application.conf</span> file, the API Key can be provided like this:</div><div id="wwp101749" class="Code_Fence">authentication {<br />    api-key {<br />         secret = ${secret_manager.api_key}<br />    }<br />}</div><div id="wwp101755" class="Heading_2">Hooks Configuration</div><div id="wwp101761" class="Paragraph">You can configure hooks that will be called after a scanner job ends.</div><div id="wwp101767" class="Paragraph">Learn how to configure a hook after a scanner job.</div><div id="wwp101773" class="Heading_2">Dry Run</div><div id="wwp101779" class="Paragraph">The scanner can be configured in dry-run mode.</div><div id="wwp101785" class="Paragraph">The purpose of this mode is to test the inventory of the connections.</div><div id="wwp101791" class="Paragraph">The scanner won't communicate with the platform and the inventory will be written to a file.</div><div id="wwp101800" class="Paragraph">To enable it, you simply need to set the protocol to <span class="Code">file</span> and define a result file path.</div><div id="wwp101806" class="Code_Fence">protocol = file<br />file {<br />    file-path = "/opt/zeenea-scanner-74/file-extract.json"<br />}</div><div id="wwp101815" class="Paragraph">To execute the test, run the scanner with the <span class="Code">inventory</span> argument:</div><div id="wwp101821" class="Code_Block">  `$ bin/zeenea-scanner inventory`</div><div id="wwp101827" class="Heading_2">Start the Scanner</div><div id="wwp101833" class="Heading_3">Simple Start (test only)</div><div id="wwp101842" class="Paragraph">The <span class="Code">./bin/zeenea-scanner</span> script is used to start the Scanner.</div><div id="wwp101848" class="Paragraph">This script must be started from the root directory of the Scanner.</div><div id="wwp101857" class="Paragraph">This script can be executed with different options. For example, you can define the sizing of the JVM. All options are described in the help, via the <span class="Code">-h</span> option:</div><div id="wwp101866" class="Paragraph"><span class="Code"># ./bin/zeenea-scanner -h</span></div><div id="wwp101872" class="Paragraph">It is important to allocate enough memory to the JVM. 8 GB are recommended.</div><div id="wwp101881" class="Paragraph">In the following example, the command starts the Scanner process. The process will remain active even after logging out (<span class="Code">nohup</span> command) and the JVM will have a 8GB memory allocation.</div><div id="wwp101890" class="Paragraph"><span class="Code"># nohup ./bin/zeenea-scanner -J-Xmx8g &amp;</span></div><div id="wwp101896" class="Heading_2">Process Configuration in systemd</div><div id="wwp101902" class="Paragraph">Scanning, especially in a production environment, is best defined as a process managed by systemd (or equivalent, depending on your OS).</div><div id="wwp101908" class="Paragraph">We therefore strongly recommend this configuration.</div><div id="wwp101914" class="Heading_3">Steps to Follow</div><ol id="wwl101956" class="OList"><li id="wwli101926" class="OList_Item" value="1"><div id="wwp101920" class="OList_Paragraph">Copy and adapt the unit file (see example below).</div></li><li id="wwli101935" class="OList_Item" value="2"><div id="wwp101929" class="OList_Paragraph">Reload the systemd configuration.</div></li><li id="wwli101944" class="OList_Item" value="3"><div id="wwp101938" class="OList_Paragraph">Activate zeenea-scanner.</div></li><li id="wwli101953" class="OList_Item" value="4"><div id="wwp101947" class="OList_Paragraph">Start the service</div></li></ol><div id="wwp101959" class="Heading_3">Example of Unit Files</div><div id="wwb101974" class="Blockquote"><div id="wwp101968" class="Blockquote_Paragraph"><span class="Bold">Note:</span> This unit file must be adapted to your environment.</div></div><div id="wwp101977" class="Heading_4">Name:</div><div id="wwp101983" class="Paragraph">zeenea-scanner.service</div><div id="wwp101989" class="Heading_4">Folder:</div><ul id="wwl102043" class="UList"><li id="wwli102004" class="UList_Item" value="1"><div id="wwp101998" class="UList_Paragraph">If installing manually: <span class="Code">/etc/systemd/system</span></div></li><li id="wwli102040" class="UList_Item" value="2"><div id="wwp102007" class="UList_Paragraph">If installing via packaging system:</div><ul id="wwl102037" class="UList"><li id="wwli102022" class="UList_Item" value="1"><div id="wwp102016" class="UList_Paragraph">RHEL, CentOS: <span class="Code">/usr/lib/systemd/system</span></div></li><li id="wwli102034" class="UList_Item" value="2"><div id="wwp102028" class="UList_Paragraph">Debian, Ubuntu: <span class="Code">/lib/systemd/system</span></div></li></ul></li></ul><div id="wwb102085" class="Blockquote"><div id="wwp102049" class="Blockquote_Paragraph"><span class="Bold">Note:</span></div><ul id="wwl102082" class="UList"><li id="wwli102061" class="UList_Item" value="1"><div id="wwp102055" class="UList_Paragraph">The user and group named in the file must have been created.</div></li><li id="wwli102070" class="UList_Item" value="2"><div id="wwp102064" class="UList_Paragraph">The path to Zeenea must match or be adapted.</div></li><li id="wwli102079" class="UList_Item" value="3"><div id="wwp102073" class="UList_Paragraph">The parameters passed to the Zeenea process must be adapted to your context.</div></li></ul></div><div id="wwp102088" class="Heading_4">Sample file:</div><div id="wwp102094" class="Code_Fence">[Unit]<br />Description=Zeenea Scanner<br />After=network-online.target<br /><br />[Service]<br />Type=simple<br />ExecStart=/opt/zeenea/bin/zeenea-scanner -J-Xmx4g<br />WorkingDirectory=/opt/zeenea<br />User=zeenea<br />Group=zeenea<br />LimitNOFILE=524288<br />SuccessExitStatus=129 130 143<br /><br />[Install]<br />WantedBy=multi-user.target</div><div id="wwp102100" class="Heading_2">Useful Commands</div><ul id="wwl102166" class="UList"><li id="wwli102115" class="UList_Item" value="1"><div id="wwp102109" class="UList_Paragraph">Activate the service: <span class="Code">sudo systemctl enable zeenea-scanner</span></div></li><li id="wwli102127" class="UList_Item" value="2"><div id="wwp102121" class="UList_Paragraph">Start the service: <span class="Code">sudo systemctl start zeenea-scanner</span></div></li><li id="wwli102139" class="UList_Item" value="3"><div id="wwp102133" class="UList_Paragraph">Reload systemd configuration: <span class="Code">sudo systemctl daemon-reload</span></div></li><li id="wwli102151" class="UList_Item" value="4"><div id="wwp102145" class="UList_Paragraph">Access systemd logs: <span class="Code">journalctl</span></div></li><li id="wwli102163" class="UList_Item" value="5"><div id="wwp102157" class="UList_Paragraph">Access to systemd logs limited to the service: <span class="Code">journalctl -u zeenea-scanner</span></div></li></ul><div id="wwp102172" class="Paragraph">If you experience issues while configuring your scanner, refer to <span class="Link"><a href="../Technical%20Documentation/zeenea-troubleshooting.html#" title="Troubleshooting Scanners and Connections">Troubleshooting Scanners and Connections</a></span></div></div><div id="page_dates"><div class="ww_skin_document_last_modified_date">Last modified date: 06/11/2025</div></div><!-- Related Topics --><!--                --><footer><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><div class="ww_skin_page_globalization"><div id="google_translate_element">&nbsp;</div></div><br /></footer></div></div><input type="hidden" id="preserve_unknown_file_links" value="false"></input><noscript><div id="noscript_warning">This site works best with JavaScript enabled</div></noscript><script type="text/javascript" src="../scripts/common.js"></script><script type="text/javascript" src="../scripts/page.js"></script></body></html>